"use strict";(self.webpackChunkproto_anime=self.webpackChunkproto_anime||[]).push([[319],{3319:(F,f,m)=>{m.r(f),m.d(f,{HomePageModule:()=>k});var d=m(9808),c=m(9560);class b{}class A{}var e=m(1223),v=m(2313);let u=(()=>{class n{}return n.baseUrl="https://black-scrappy.herokuapp.com",n})(),p=(()=>{class n{}return n.API={getAnimeList:"/api/v1/anime/get-list",addAnime:"/api/v1/anime/add",deleteAnime:"/api/v1/anime/delete",getAnimeDetails:"/api/v1/anime/get/",getEpisode:"/api/v1/anime/get-episode/"},n})();var g=m(8306),x=m(520);let _=(()=>{class n{constructor(t){this.httpClient=t}getAnimeList(){return new g.y(t=>{this.httpClient.get(`${u.baseUrl}${p.API.getAnimeList}`).subscribe(o=>{t.next(o),t.complete()},o=>{console.log(o),t.error(o)})})}addAnime(t){return new g.y(i=>{this.httpClient.post(`${u.baseUrl}${p.API.addAnime}`,t).subscribe(l=>{i.next(l),i.complete()},l=>{console.log(l),i.error(l)})})}deleteAnime(t){return new g.y(i=>{this.httpClient.post(`${u.baseUrl}${p.API.deleteAnime}`,t).subscribe(l=>{i.next(l),i.complete()},l=>{console.log(l),i.error(l)})})}getAnimeDetails(t){return new g.y(i=>{this.httpClient.get(`${u.baseUrl}${p.API.getAnimeDetails}${t}`).subscribe(l=>{i.next(l),i.complete()},l=>{console.log(l),i.error(l)})})}getAnimeEpisodeUrl(t,i){return new g.y(o=>{this.httpClient.get(`${u.baseUrl}${p.API.getEpisode}${t}/${i}`).subscribe(a=>{o.next(a),o.complete()},a=>{console.log(a),o.error(a)})})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C(n,s){if(1&n&&(e.TgZ(0,"div",23),e._UZ(1,"iframe",24),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.episodeUrl,e.uOi)}}function Z(n,s){1&n&&(e.TgZ(0,"p"),e._uU(1,"Loading..."),e.qZA())}function T(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h5"),e._uU(2),e.qZA(),e.YNc(3,C,2,1,"div",17),e.YNc(4,Z,2,0,"ng-template",null,18,e.W1O),e.TgZ(6,"div",19)(7,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.onClickEpisode((+o.episodeId-1).toString())}),e._UZ(8,"i",21),e._uU(9," Previous "),e.qZA(),e.TgZ(10,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.onClickEpisode((+o.episodeId+1).toString())}),e._uU(11," Next "),e._UZ(12,"i",22),e.qZA()(),e.BQk()}if(2&n){const t=e.MAs(5),i=e.oxw(2);e.xp6(2),e.hij("Episode ",i.episodeId,""),e.xp6(1),e.Q6J("ngIf",i.episodeUrl)("ngIfElse",t)}}function w(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",25),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(2).onClickEpisode(l+1)}),e._uU(2),e.qZA()()}if(2&n){const t=s.index,i=e.oxw(2);e.xp6(1),e.Gre("btn ",i.episodeId==t+1?"btn-primary":"btn-outline-primary",""),e.xp6(1),e.hij(" ",t+1," ")}}const M=function(){return[]};function q(n,s){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),e._UZ(5,"img",6),e.qZA(),e.TgZ(6,"div",7)(7,"div",8)(8,"h1",9),e._uU(9),e.qZA(),e.TgZ(10,"div",10),e._uU(11),e.qZA()(),e.TgZ(12,"div",11)(13,"p"),e._uU(14),e.qZA()(),e._UZ(15,"div",12),e.qZA()()()(),e.YNc(16,T,13,3,"ng-container",13),e.TgZ(17,"div",14)(18,"div",3)(19,"ul",15),e.YNc(20,w,3,4,"li",16),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("src",null==t.animeDetails||null==t.animeDetails.info?null:t.animeDetails.info.thumb,e.LSH),e.xp6(4),e.Oqu(null==t.animeDetails||null==t.animeDetails.info?null:t.animeDetails.info.title),e.xp6(2),e.Oqu(null==t.animeDetails||null==t.animeDetails.info?null:t.animeDetails.info.alias),e.xp6(3),e.Oqu(null==t.animeDetails||null==t.animeDetails.info?null:t.animeDetails.info.description),e.xp6(1),e.Q6J("innerHTML",null==t.animeDetails||null==t.animeDetails.info?null:t.animeDetails.info.meta,e.oJD),e.xp6(1),e.Q6J("ngIf",t.episodeId),e.xp6(4),e.Q6J("ngForOf",(null==t.animeDetails?null:t.animeDetails.urls)||e.DdM(7,M))}}let h=(()=>{class n{constructor(t,i,o,l){this.router=t,this.activatedRoute=i,this.domSanitizer=o,this.homePageService=l,this.animeDetails=new b}ngOnInit(){this.activatedRoute.params.subscribe(t=>{var i,o,l;t.id&&(this.animeId=null===(i=t.id)||void 0===i?void 0:i.trim(),(null===(o=this.animeDetails)||void 0===o?void 0:o.id)!==this.animeId&&this.getAnimeDetails(this.animeId)),(null==t?void 0:t.episodeId)&&(this.episodeId=null===(l=t.episodeId)||void 0===l?void 0:l.trim(),this.episodeUrl=null,this.getEpisode(this.episodeId))})}getAnimeDetails(t){this.homePageService.getAnimeDetails(t).subscribe(i=>{this.animeDetails=i,this.animeDetails.id=t})}getEpisode(t){this.homePageService.getAnimeEpisodeUrl(this.animeId,t).subscribe(i=>{this.episodeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(i.url)})}onClickEpisode(t){let i;i=this.episodeId?"../"+t:t,this.router.navigate([i],{relativeTo:this.activatedRoute}).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F0),e.Y36(c.gz),e.Y36(v.H7),e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home-page"]],decls:1,vars:1,consts:[["class","container container-fluid",4,"ngIf"],[1,"container","container-fluid"],[1,"card","mb-5"],[1,"card-body"],[1,"row"],[1,"col-md-3","col-sm-12"],["alt","cover",3,"src"],[1,"col"],[1,"info"],[1,"title"],[1,"alias"],[1,"description"],[1,"meta",3,"innerHTML"],[4,"ngIf"],[1,"card"],[1,"episodes"],[4,"ngFor","ngForOf"],["class","v-player",4,"ngIf","ngIfElse"],["loading",""],[1,"action-buttons"],[1,"btn","btn-dark",3,"click"],[1,"fa-solid","fa-angles-left"],[1,"fa-solid","fa-angles-right"],[1,"v-player"],["id","iframePlayer",3,"src"],[3,"click"]],template:function(t,i){1&t&&e.YNc(0,q,21,8,"div",0),2&t&&e.Q6J("ngIf",i.animeId)},directives:[d.O5,d.sg],styles:[".episodes[_ngcontent-%COMP%]{display:flex;list-style:none;max-height:500px;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:center;overflow:auto}.episodes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:1px}.episodes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:50px;font-size:14px}.info[_ngcontent-%COMP%]{margin-bottom:15px}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px}.meta[_ngcontent-%COMP%]{display:flex}.v-player[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:450px;width:100%}.action-buttons[_ngcontent-%COMP%]{display:flex;margin-bottom:30px;justify-content:space-between;align-items:center;flex-wrap:nowrap;flex-direction:row}"]}),n})();function y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",8),e._UZ(2,"img",13),e.TgZ(3,"div",9)(4,"p",14),e._uU(5),e.qZA(),e.TgZ(6,"button",15),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().onWatchAnime(l)}),e._uU(7," Watch Now "),e._UZ(8,"i",16),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("src",t.thumb,e.LSH),e.xp6(3),e.Oqu(t.title)}}let U=(()=>{class n{constructor(t,i){this.router=t,this.animeViewService=i,this.animeList=[]}ngOnInit(){this.getAnimeList()}getAnimeList(){this.animeViewService.getAnimeList().subscribe(t=>{this.animeList=t.list||[]})}onWatchAnime(t){(null==t?void 0:t.id)&&this.router.navigate(["/anime/watch",t.id])}onRefresh(){this.animeList=[],this.getAnimeList()}onAddAnime(){this.router.navigate(["/anime/add"])}onDeleteAnime(){this.router.navigate(["/anime/delete"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F0),e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-anime-list"]],decls:15,vars:1,consts:[[1,"container","container-fluid"],[1,"flex-sb","mb-4"],[1,""],[1,"btn","btn-dark","me-2",3,"click"],[1,"btn","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash"],[1,"card"],[1,"card-body"],[1,"anime-list"],["class","anime-item",4,"ngFor","ngForOf"],[1,"anime-item"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-title"],[1,"btn","btn-primary",2,"width","100%",3,"click"],[1,"fa-solid","fa-angle-right"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Anime List"),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.onRefresh()}),e._uU(6,"Refresh"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return i.onAddAnime()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return i.onDeleteAnime()}),e._UZ(10,"i",7),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10),e.YNc(14,y,9,2,"div",11),e.qZA()()()()),2&t&&(e.xp6(14),e.Q6J("ngForOf",i.animeList))},directives:[d.sg],styles:[".anime-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-content:space-between;justify-content:flex-start;align-items:flex-start}.anime-list[_ngcontent-%COMP%]   .anime-item[_ngcontent-%COMP%]{margin:1rem;width:auto}.anime-list[_ngcontent-%COMP%]   .anime-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:10rem}.card-title[_ngcontent-%COMP%]{font-size:14px;height:45px;word-break:break-all;text-overflow:ellipsis;overflow:hidden}"]}),n})();var r=m(2382);function I(n,s){if(1&n&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}function O(n,s){if(1&n&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.error)}}function D(n,s){if(1&n&&(e.TgZ(0,"div",19),e._UZ(1,"img",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.addAnimeRequest.thumb,e.LSH)}}function J(n,s){if(1&n&&(e.TgZ(0,"p",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}function S(n,s){if(1&n&&(e.TgZ(0,"p",13),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.error)}}const L=[{path:"",pathMatch:"full",redirectTo:"/list"},{path:"list",component:U},{path:"watch/:id",component:h},{path:"watch/:id/:episodeId",component:h},{path:"add",component:(()=>{class n{constructor(t){this.animeViewService=t,this.addAnimeRequest=new A}ngOnInit(){}onSubmit(){this.message=null,this.error=null,this.animeViewService.addAnime(this.addAnimeRequest).subscribe(t=>{t.error?this.error=t.error:this.message=null==t?void 0:t.message})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-anime"]],decls:26,vars:6,consts:[[1,"container"],[1,"mb-4"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"ngSubmit"],["formRef","ngForm"],[1,"form-group"],["for","id"],["id","id","name","id","placeholder","Enter id","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","title"],["id","title","name","title","placeholder","Enter title","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","thumb"],["id","thumb","name","thumb","placeholder","Enter thumbnail URL","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","thumb-preview",4,"ngIf"],[1,"flex-sb"],["type","reset",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],[1,"text-success"],[1,"text-danger"],[1,"thumb-preview"],["alt","cover",3,"src"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Add Anime"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,I,2,1,"p",2),e.YNc(5,O,2,1,"p",3),e.qZA(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){return e.CHM(o),e.MAs(7).valid&&i.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(a){return i.addAnimeRequest.id=a}),e.qZA()(),e.TgZ(12,"div",6)(13,"label",9),e._uU(14,"Title"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(a){return i.addAnimeRequest.title=a}),e.qZA()(),e.TgZ(16,"div",6)(17,"label",11),e._uU(18,"Thumbnail URL"),e.qZA(),e.TgZ(19,"input",12),e.NdJ("ngModelChange",function(a){return i.addAnimeRequest.thumb=a}),e.qZA()(),e.YNc(20,D,2,1,"div",13),e.TgZ(21,"div",14)(22,"button",15),e._uU(23,"Reset"),e.qZA(),e.TgZ(24,"button",16),e._uU(25,"Submit"),e.qZA()()()()}2&t&&(e.xp6(4),e.Q6J("ngIf",i.message),e.xp6(1),e.Q6J("ngIf",i.error),e.xp6(6),e.Q6J("ngModel",i.addAnimeRequest.id),e.xp6(4),e.Q6J("ngModel",i.addAnimeRequest.title),e.xp6(4),e.Q6J("ngModel",i.addAnimeRequest.thumb),e.xp6(1),e.Q6J("ngIf",null==i.addAnimeRequest?null:i.addAnimeRequest.thumb))},directives:[d.O5,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On],styles:[".thumb-preview[_ngcontent-%COMP%]{display:flex;border:1px dashed #404040;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;margin-bottom:20px;padding:5px;width:150px}.thumb-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:200px}"]}),n})()},{path:"delete",component:(()=>{class n{constructor(t){this.animeViewService=t,this.addAnimeRequest=new A}ngOnInit(){}onSubmit(){this.message=null,this.error=null,this.animeViewService.deleteAnime(this.addAnimeRequest).subscribe(t=>{t.error?this.error=t.error:this.message=null==t?void 0:t.message})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-anime"]],decls:17,vars:3,consts:[[1,"container"],[1,"mb-4"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"ngSubmit"],["formRef","ngForm"],[1,"form-group"],["for","id"],["id","id","name","id","placeholder","Enter id","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"flex-sb"],["type","reset",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],[1,"text-success"],[1,"text-danger"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Delete Anime"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,J,2,1,"p",2),e.YNc(5,S,2,1,"p",3),e.qZA(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){return e.CHM(o),e.MAs(7).valid&&i.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(a){return i.addAnimeRequest.id=a}),e.qZA()(),e.TgZ(12,"div",9)(13,"button",10),e._uU(14,"Reset"),e.qZA(),e.TgZ(15,"button",11),e._uU(16,"Submit"),e.qZA()()()()}2&t&&(e.xp6(4),e.Q6J("ngIf",i.message),e.xp6(1),e.Q6J("ngIf",i.error),e.xp6(6),e.Q6J("ngModel",i.addAnimeRequest.id))},directives:[d.O5,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On],styles:[""]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.Bz.forChild(L)],c.Bz]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[d.ez,r.u5,R]]}),n})()}}]);